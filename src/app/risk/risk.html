<div class="risk-container">
  <h2>Risk Management</h2>

  <div class="form-section">
    <!-- Risk Title & Category -->
    <div class="form-row">
      <div class="form-group">
        <label>Risk Title *</label>
        <input type="text" [value]="riskTitle" (input)="riskTitle = $any($event.target).value"
               class="form-input" placeholder="Enter risk title"/>
      </div>

      <div class="form-group">
        <label>Risk Category *</label>
        <select [value]="category" (change)="category = $any($event.target).value" class="form-input">
          <option value="">Select category</option>
          <option *ngFor="let cat of categories" [value]="cat">{{ cat | titlecase }}</option>
        </select>
      </div>
    </div>

    <!-- Description -->
    <div class="form-row">
      <div class="form-group">
        <label>Description *</label>
        <textarea [value]="description" (input)="description = $any($event.target).value"
                  class="form-input" placeholder="Enter risk description" rows="3"></textarea>
      </div>
    </div>

    <!-- Probability & Impact -->
    <div class="form-row">
      <div class="form-group">
        <label>Probability *</label>
        <select [value]="probability" (change)="probability = $any($event.target).value" class="form-input">
          <option value="">Select probability</option>
          <option *ngFor="let prob of probabilityLevels" [value]="prob">{{ prob | titlecase }}</option>
        </select>
      </div>

      <div class="form-group">
        <label>Impact *</label>
        <select [value]="impact" (change)="impact = $any($event.target).value" class="form-input">
          <option value="">Select impact</option>
          <option *ngFor="let imp of impactLevels" [value]="imp">{{ imp | titlecase }}</option>
        </select>
      </div>
    </div>

    <!-- Mitigation Plan & Progress -->
    <div class="form-row">
      <div class="form-group">
        <label>Mitigation Plan *</label>
        <textarea [value]="mitigationPlan" (input)="mitigationPlan = $any($event.target).value"
                  class="form-input" placeholder="Enter mitigation plan" rows="3"></textarea>
      </div>

      <div class="form-group">
        <label>Progress *</label>
        <select [value]="progress" (change)="progress = $any($event.target).value" class="form-input">
          <option value="">Select progress</option>
          <option *ngFor="let prog of progressOptions" [value]="prog">{{ prog | titlecase }}</option>
        </select>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="form-actions">
      <button type="button" (click)="onSubmit()" class="btn-primary">Add Risk</button>
    </div>
  </div>

  <!-- Show submitted risks -->
  <div *ngIf="risks.length > 0" class="submitted-data">
    <h3>Risk List</h3>
    <div class="data-list">
      <div *ngFor="let risk of risks; let i = index" class="data-item">
        <div class="item-header">
          <strong>Risk {{ i + 1 }}: {{ risk.title | titlecase }}</strong>
          <span class="submitted-date">{{ risk.submittedDate | date:'medium' }}</span>
        </div>
        <div class="item-details">
          <p><strong>Category:</strong> {{ risk.category | titlecase }}</p>
          <p><strong>Description:</strong> {{ risk.description }}</p>
          <p><strong>Probability:</strong> {{ risk.probability | uppercase }}</p>
          <p><strong>Impact:</strong> {{ risk.impact | uppercase }}</p>
          <p><strong>Mitigation:</strong> {{ risk.mitigationPlan }}</p>
          <p><strong>Progress:</strong> {{ risk.progress | titlecase }}</p>
        </div>
      </div>
    </div>
  </div>
</div>