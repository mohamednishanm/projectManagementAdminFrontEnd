<div class="pm-container">
  <h2>Project Manager Details</h2>

  <div class="form-section">
    <!-- Full Name & Employee ID -->
    <div class="form-row">
      <div class="form-group">
        <label>Full Name *</label>
        <input type="text" [value]="fullName" (input)="fullName = $any($event.target).value"
               class="form-input" placeholder="Enter full name"/>
      </div>

      <div class="form-group">
        <label>Employee ID *</label>
        <input type="text" [value]="employeeId" (input)="employeeId = $any($event.target).value"
               class="form-input" placeholder="Enter employee ID"/>
      </div>
    </div>

    <!-- Department & Email -->
    <div class="form-row">
      <div class="form-group">
        <label>Department</label>
        <select [value]="department" (change)="department = $any($event.target).value" class="form-input">
          <option value="">Select Department</option>
          @for (dept of departmentOptions; track dept) {
            <option [value]="dept">{{ dept }}</option>
          }
        </select>
      </div>

      <div class="form-group">
        <label>Email *</label>
        <input type="email" [value]="email" (input)="email = $any($event.target).value"
               class="form-input" placeholder="Enter email address"/>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="form-actions">
      <button type="button" (click)="onSubmit()" class="btn-primary">Add Project Manager</button>
    </div>
  </div>

  <!-- Show submitted PM forms -->
  @if (pmForms.length > 0) {
    <div class="submitted-data">
      <h3>Project Manager List</h3>
      <div class="data-list">
        @for (pm of pmForms; track pm; let i = $index) {
          <div class="data-item">
            <div class="item-header">
              <strong>Project Manager {{ i + 1 }}</strong>
              <span class="submitted-date">{{ pm.submittedDate | date:'medium' }}</span>
            </div>
            <div class="item-details">
              <p><strong>Name:</strong> {{ pm.fullName | titlecase }}</p>
              <p><strong>Employee ID:</strong> {{ pm.employeeId | uppercase }}</p>
              <p><strong>Department:</strong> {{ pm.department || 'Not specified' }}</p>
              <p><strong>Email:</strong> {{ pm.email }}</p>
            </div>
          </div>
        }
      </div>
    </div>
  }
</div>
