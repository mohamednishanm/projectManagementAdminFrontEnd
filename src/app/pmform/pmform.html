<div class="pm-container">
  <h2 class="pmform-title">Project Manager Details</h2>

  <!-- Form -->
  <form [formGroup]="pmForm" (ngSubmit)="onSubmit(pmForm.value)" class="pm-form">

    <!-- Name & ID -->
    <div class="form-row">
      <div class="form-group">
        <label>Full Name *</label>
        <input type="text" formControlName="fullName" class="form-input"/>
        <small *ngIf="pmForm.get('fullName')?.invalid && pmForm.get('fullName')?.touched" class="error-message">
          Full Name is required (min 3 chars).
        </small>
      </div>
      <div class="form-group">
        <label>Employee ID *</label>
        <input type="text" formControlName="employeeId" class="form-input"/>
        <small *ngIf="pmForm.get('employeeId')?.invalid && pmForm.get('employeeId')?.touched" class="error-message">
          Employee ID is required.
        </small>
      </div>
    </div>

    <!-- Department -->
    <div class="form-row">
      <div class="form-group">
        <label>Department</label>
        <select formControlName="department" class="form-input">
          <option value="">Select Department</option>
          <option value="IT">Information Technology</option>
          <option value="HR">Human Resources</option>
          <option value="Finance">Finance</option>
          <option value="Marketing">Marketing</option>
          <option value="Operations">Operations</option>
          <option value="Sales">Sales</option>
          <option value="Engineering">Engineering</option>
          <option value="Quality Assurance">Quality Assurance</option>
          <option value="Research & Development">Research & Development</option>
          <option value="Customer Support">Customer Support</option>
        </select>
      </div>
    </div>

    <!-- Email & Phone -->
    <div class="form-row">
      <div class="form-group">
        <label>Email *</label>
        <input type="email" formControlName="email" class="form-input"/>
        <small *ngIf="pmForm.get('email')?.invalid && pmForm.get('email')?.touched" class="error-message">
          Valid email is required.
        </small>
      </div>
      <div class="form-group">
        <label>Phone</label>
        <input type="text" formControlName="phone" class="form-input"/>
      </div>
    </div>





    <!-- Privileges -->
    <div class="form-group">
      <label>Privileges</label>
      <div class="checkbox-group">
        <label *ngFor="let p of privileges" class="checkbox-inline">
          <input type="checkbox" [value]="p" [checked]="pmForm.get('privileges')?.value.includes(p)" (change)="onPrivilegeChange($event)">
          {{p}}
        </label>
      </div>
    </div>



    <!-- Submit -->
    <div class="form-actions">
      <button type="submit" class="btn-primary" [disabled]="pmForm.invalid">Save</button>
    </div>
  </form>

  <!-- Submitted Data -->
  <div *ngIf="submittedData" class="submitted-data fade-in">
    <h3>Submitted Details</h3>
    <div class="submitted-grid">
      <div><strong>Name:</strong> {{ submittedData.fullName }}</div>
      <div><strong>ID:</strong> {{ submittedData.employeeId }}</div>
      <div><strong>Dept:</strong> {{ submittedData.department }}</div>
      <div><strong>Email:</strong> {{ submittedData.email }}</div>
      <div><strong>Phone:</strong> {{ submittedData.phone }}</div>
      <div><strong>Privileges:</strong> {{ submittedData.privileges?.join(', ') }}</div>
    </div>
  </div>
</div>
